<div class="game-container">

    <app-category-list *ngIf="viewMode === 'category'" [categories]="categories"
        (onSelect)="handleCategorySelect($event)">
    </app-category-list>

    <app-phase-list *ngIf="viewMode === 'phase'" [phases]="selectedCategory?.phases"
        [categoryName]="selectedCategory?.name" (onSelectPhase)="handlePhaseSelect($event)"
        (onBack)="backToCategories()">
    </app-phase-list>

    <div *ngIf="viewMode === 'game'">
        <div *ngIf="!quizFinalizado; else finalizado">
            <button (click)="backToPhases()">Sair</button>

            <app-question-card [question]="questions[currentIndex]" (answerSelected)="handleAnswer($event)">
            </app-question-card>

        </div>
    </div>

    <ng-template #finalizado>
        <div class="result-card">
            <h2>ğŸ† MissÃ£o Cumprida!</h2>
            <button (click)="backToPhases()">Voltar</button>
        </div>
    </ng-template>

</div>